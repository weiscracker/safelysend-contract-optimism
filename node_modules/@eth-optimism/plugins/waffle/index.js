"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.waffle = exports.MockProvider = void 0;
/* External Imports */
const ethers_1 = require("ethers");
const ethereum_waffle_1 = require("ethereum-waffle");
/* Internal Imports */
const ganache_1 = require("../ganache");
/**
 * WaffleV3 MockProvider wrapper.
 */
class MockProvider extends ethers_1.providers.Web3Provider {
    constructor(options) {
        super(ganache_1.ganache.provider(Object.assign({ gasPrice: 0, accounts: ethereum_waffle_1.defaultAccounts }, options === null || options === void 0 ? void 0 : options.ganacheOptions)));
        this.options = options;
    }
    /**
     * Retrieves the wallet objects passed to this provider.
     * @returns List of wallet objects.
     */
    getWallets() {
        var _a, _b;
        const items = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.ganacheOptions.accounts) !== null && _b !== void 0 ? _b : ethereum_waffle_1.defaultAccounts;
        return items.map((x) => new ethers_1.Wallet(x.secretKey, this));
    }
}
exports.MockProvider = MockProvider;
exports.waffle = {
    MockProvider,
};
//# sourceMappingURL=index.js.map